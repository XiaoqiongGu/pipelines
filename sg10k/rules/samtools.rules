"""Some samtools rules taken from snakemake-workflows.git/bio/ngs/rules/mapping/samfiles.rules

Requires samtools

Original author: Johannes KÃ¶ster (http://johanneskoester.bitbucket.org)
Original license: MIT
"""

rule samtools_fasta_index:
    input:
        "{prefix}.{suffix}"
    output:
        "{prefix}.{suffix,(fasta|fa)}.fai"
    shell:
       	#module load samtools/{config[modules][samtools]}
        """
       	#use samtools-{config[modules][samtools]}
        samtools faidx {input}
        """


rule bam_stats:
    input:
        bam="{prefix}.bam",
        bai="{prefix}.bam.bai"
    output:
        "{prefix}.stats.txt"
    shell:
       	#module load samtools/{config[modules][samtools]}
        """
       	#use samtools-{config[modules][samtools]}
        samtools idxstats {input.bam} > {output}
        """


rule bam_index:
    input:
        "{prefix}.bam"
    output:
        "{prefix}.bam.bai"
    shell:
        #module load samtools/{config[modules][samtools]}
        """
       	#use samtools-{config[modules][samtools]}
        samtools index {input}
        """



